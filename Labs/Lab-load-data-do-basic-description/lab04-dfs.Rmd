---
title: "lab04-data-frame-basics"
author: "Joseph Chamdani, Winson Teh, Kenneth Wu, Hanjun Ma"
date: "2025-10-21"
output: html_document
---

<<<<<<< HEAD
## **HR Data**
=======
## **1 HR Data**
>>>>>>> be0ffe594095c655d9d71b600637a3bbad7e5d0a

---

### **1.1 Download the the salary data from canvas (files/data/salaries.csv). Load it into R using read_delim().**

```{r}
library(tidyverse)

<<<<<<< HEAD
salaries <- read_delim("salaries.csv", delim = ",")
=======
salaries <- read_delim("salaries.csv", delim = "\t")
>>>>>>> be0ffe594095c655d9d71b600637a3bbad7e5d0a
```

---

### **1.2 Did you load it correctly?**

---

#### a) How many rows and columns are there?

```{r} 
dim(salaries)          
nrow(salaries)        
ncol(salaries)   
```

---

#### b) What are the variable names? Do these make sense?

```{r} 
names(salaries)        
colnames(salaries) 
```

---

#### c) Show the first few lines of data.

```{r} 
head(salaries)        
head(salaries, 10)  
```

---

### **1.3 Create a column ’raise’ that stores the size of the raise between 2024 and 2025. (Salary difference between 2024 and 2025).**

```{r}
<<<<<<< HEAD

```

---
=======
salaries$raise <- c(salaries$salary2025 - salaries$salary2024)

head(salaries)        
```
---

### **1.4 How many employees got a raise? (i.e. their salary grew over the year.)**

```{r}
sum(salaries$raise > 0)
```

---

### **1.5 What was the value of the highest raise?**

```{r}
max(salaries$raise)
```

---

### **1.6 What was the name of the employee who received the highest raise?**

```{r}
salaries[salaries$raise == max(salaries$raise), "name"]
```

---

### **1.7 What was the average salary increase for everyone?**

```{r}
mean(salaries$raise) 
```

---

### **1.8 What was the average raise for those who got raise (i.e. have positive raise?)**

```{r}
mean(salaries$raise[salaries$raise > 0])
```

---

### **1.9 Print out the 3 first lines for those who experienced salary drop.**

---

#### a) Without print/cat commands, just extracting the lines
```{r}
head(salaries[salaries$raise < 0, ], 3)
```


---

#### b) Using print()
```{r}
print(head(salaries[salaries$raise < 0, ], 3))
```

---

#### c) Using cat()

```{r}
salary_drops <- head(salaries[salaries$raise < 0, ], 3)
cat("Name:", salary_drops$name, "\n")
cat("Raise:", salary_drops$raise, "\n")
```

---

##### Similarities: All display output to the console.
##### Differences: (a) and print() show formatted data frames then cat() outputs plain text.

----

## **2 Reviews**

---

### **2.1 Compute with vectors**

---

### **2.1.1Consider a numeric vector (1, 2, 3, 4, 5). Use logical operations and sum() to find how many odd numbers are in this vector.**

```{r}
v <- c(1,2,3,4,5)
sum(v %% 2 == 1)
```
---

### **2.1.2 Now write a function odds(v) that returns the number of odd numbers in the vector v. Show that it works with the vector above in Question 1.**

```{r}
odd <- function(v) {
  sum(v %% 2 == 1)
}
odd(v)
```

---

### **2.1.3 Now compute the percentage of odd numbers in the vector.**

```{r}
per <- function(x) {
  result <- sum(x %% 2 == 1) / length(x) * (100)
  cat(result, "%", sep = "")
}

per(v)
```
---

### **2.1.4Amend your function odds(v) in a way that it now returns a vector of two numbers: first the count of odd numbers, and second the percentage of odd numbers.**

```{r}
odds <- function(x){
  num <- sum(x %% 2 == 1)
  result <- sum(x %% 2 == 1) / length(x)
  return(c(num, result))
}
odds(v)
```
---

### **2.2 Loop over vectors**

---

### **2.2.1 Write a for-loop over the data frame that prints out all column names**

```{r}
for(col in names(salaries)){
  print(col)
}
```
---

### **2.2.2 Write a for-loop that prints all names, followed by the corresponding data type.**

```{r}
for(col in names(salaries)){
  cat(col, ":", class(salaries[[col]]))
  cat("\n")
  }
```
---

### **2.2.3 Now print out the column name, its data type, and only for numeric types, its minimum, average, and maximum value.**

```{r}
for(col in names(salaries)){
  cat(col, ":", class(salaries[[col]]))
  
  if (is.numeric(salaries[[col]])) {
    cat(" | Min:", min(salaries[[col]]),", ",
        "Mean:", mean(salaries[[col]]),", ",
        "Max:", max(salaries[[col]]))
  }
  
  cat("\n")
}
```



---

### **2.3 Advanced loop**


```{r}
reorder <- function(x){
  for(i in 1:(length(x)-1)){
    for(j in 1:(length(x)-i)){
      if(x[j] > x[j+1]){
        a <- x[j]
        b <- x[j+1]
        x[j] <- b
        x[j+1] <- a
      }
    }
  }
  return(x)
}
```

>>>>>>> be0ffe594095c655d9d71b600637a3bbad7e5d0a
